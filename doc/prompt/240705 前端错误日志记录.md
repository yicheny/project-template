场景：现在浏览器页面会出现一些偶现的问题，比如填写完表单之后点击提交，明明所有表单项都填写了，但还是提示“请填写必填项”

类似这样的情况，希望可以记录下用户相关的操作信息和报错。

目标：
1. 记录用户在页面上记录的所有操作和报错信息
2. 将操作日志和报错信息保存

请提供一个实现方案

问题：
1. 如何精准定位触发事件的元素，比如说如果页面有两个按钮，一个取消一个确定，用户触发点击事件，如何确认是用户点击确定造成的报错？
2. 如果进行报错关联，如果确保关联准确，比如有两个按钮A、B，点击了按钮A触发请求，然后点击按钮B，此时A的请求响应返回结果造成报错，此时按照就近关联的话会关联到B，但实际是A触发的，如何解决？
3. 如果这里要求不能使用接口报错日志，必须保存在本地，比如 localStorage或indexDB，要怎么实现？
4. localStorage和indexDB哪一种方案更好些？
5. 使用serviceWorker保存又如何呢？
6. 后续如何给indexDB版本升级（方案中不使用serviceWorkder)
7. action为error时，偶尔会出现没有存储的情况，怎么解决
8. 这里有两个按钮A、B，点击A不会抛错，点击B会抛错。这里先点击B，会直接记录 B的click 事件和 error 事件，但是先点击A再点击B，就只有A和B的点击事件记录，不会记录error事件，为什么？怎么处理


console.log('action', action, details)

